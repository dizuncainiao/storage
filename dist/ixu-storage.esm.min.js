var t=function(){function t(t,e){this._Storage=t,this._disabled=this.hasLocalStorage(),this._prefix_="_"+String(e||"ixu.me").toUpperCase()+"_",console.log("Storage this._prefix",this._prefix_),this.queryUseSize()}return t.prototype.getKey=function(t){return""+this._prefix_+t},t.prototype.hasLocalStorage=function(){return!this._Storage&&(console.log("浏览器不支持",this._Storage),!0)},t.prototype.set=function(t,e){if(!this._disabled&&t){"string"!=typeof e&&(e=JSON.stringify(e));try{this._Storage.setItem(this.getKey(t),e)}catch(t){"QuotaExceededError"===t.name&&console.log("超出本地存储限额！")}}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.get=function(t,e){if(void 0===e&&(e=!1),!this._disabled&&t){var o=function(t){if("string"!=typeof t)return;try{return JSON.parse(t)}catch(e){return t||void 0}}(this._Storage.getItem(this.getKey(t)));return void 0===o?e:o}},t.prototype.remove=function(t){this._disabled||this.getKey(t)&&this._Storage.removeItem(this.getKey(t))},t.prototype.clear=function(t){this._disabled||this.getKey(t)&&this._Storage.clear()},t.prototype.queryUseSize=function(){if(!this._disabled){var t=0;for(var e in this._Storage)this._Storage.hasOwnProperty(e)&&(t+=this._Storage.getItem(e).length);console.log("当前localStorage剩余容量为"+(t/1024).toFixed(2)+"kb")}},t}();export default function(e){var o={name:"$storage",prefix:""};for(var i in e)o[i]=e[i];Object.assign(void 0,new t(window.localStorage,o.prefix)),Object.assign((void 0).session,new t(window.sessionStorage,o.prefix))}
